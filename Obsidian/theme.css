/* ═══════════════════════════════════════════════════════════════════════════
 *
 S HINKAWA THEME FOR OBSIDIAN                                                   *
 Black, White & Gold | Pointillism Aesthetic

 Author: You
 Version: 1.1
 Last Updated: 2025

 ═══════════════════════════════════════════════════════════════════════════

 TABLE OF CONTENTS
 ─────────────────
 1.  Style Settings (Plugin Support)
 2.  Font Imports
 3.  Color Palette - Light Mode
 4.  Color Palette - Dark Mode
 5.  Pure B&W Mode (Optional)
 6.  Typography
 7.  Gold Elements
 7.1  Tags
 7.2  Links
 7.3  Active File & Tab
 7.4  Checkboxes
 7.5  Search Highlights
 7.6  Graph View
 7.7  Cursor / Caret
 7.8  List Bullets
 8.  Images
 9.  Tables
 10. Scrollbars
 11. UI Elements

 ═══════════════════════════════════════════════════════════════════════════ */


/* ═══════════════════════════════════════════════════════════════════════════
 1 . STYLE SETTINGS (Plugin Support)                                            *

 Install "Style Settings" plugin to get GUI toggles
 ═══════════════════════════════════════════════════════════════════════════ */

/* @settings
 *
 n ame: Shinkawa Theme                                                             *
 id: shinkawa-theme
 settings:
 -
 id: shinkawa-heading
 title: Accent & Colors
 type: heading
 level: 1
 -
 id: shinkawa-accent-mode
 title: Accent Mode
 description: Choose between Gold accents or Pure B&W
 type: class-select
 allowEmpty: false
 default: shinkawa-gold
     options:
     -
     label: Gold & B&W
     value: shinkawa-gold
     -
     label: Pure B&W
     value: shinkawa-pure-bw
     -
     id: shinkawa-images-heading
     title: Images
     type: heading
     level: 1
     -
     id: shinkawa-image-filter
     title: Image Filter
     description: How images are displayed
     type: class-select
     allowEmpty: false
 default: shinkawa-img-bw
     options:
     -
     label: B&W (color on hover)
     value: shinkawa-img-bw
     -
     label: Always Color
     value: shinkawa-img-color
     -
     label: Sepia
     value: shinkawa-img-sepia

     */


/* ═══════════════════════════════════════════════════════════════════════════
 2 . FONT IMPORTS                                                               *
 ═══════════════════════════════════════════════════════════════════════════ */

@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap');


/* ═══════════════════════════════════════════════════════════════════════════
 3 . COLOR PALETTE - LIGHT MODE                                                 *
 ═══════════════════════════════════════════════════════════════════════════ */

.theme-light {
    /* Backgrounds */
    --background-primary:         #FFFFFF;
    --background-secondary:       #F5F5F5;
    --background-primary-alt:     #FAFAFA;
    --background-secondary-alt:   #EBEBEB;
    --background-modifier-border: #DDDDDD;
    --background-modifier-form-field: #F5F5F5;
    --background-modifier-form-field-highlighted: #EBEBEB;
    --background-modifier-box-shadow: rgba(0, 0, 0, 0.1);
    --background-modifier-success: #E6DFA9;
    --background-modifier-error: #5C0000;
    --background-modifier-error-rgb: 92, 0, 0;
    --background-modifier-error-hover: #7A0000;
    --background-modifier-cover: rgba(0, 0, 0, 0.6);

    /* Text */
    --text-normal:       #333333;
    --text-muted:        #666666;
    --text-faint:        #999999;
    --text-on-accent:    #000000;
    --text-error:        #5C0000;
    --text-error-hover:  #7A0000;
    --text-accent:       #000000;
    --text-accent-hover: #333333;

    /* Gold Palette */
    --gold-highlight: #E6DFA9;
    --gold-main:      #ffde6e;
    --gold-shadow:    #8A7129;
    --gold-tags:      #CEB04C;

    /* Interactive Elements */
    --interactive-accent:       var(--gold-main);
    --interactive-accent-rgb:   255, 222, 110;
    --interactive-accent-hover: var(--gold-highlight);

    /* Selection & Highlights */
    --text-selection:             rgba(0, 0, 0, 0.15);
    --text-highlight-bg:          rgba(255, 222, 110, 0.3);
    --text-highlight-bg-active:   rgba(255, 222, 110, 0.5);

    /* UI Elements */
    --scrollbar-bg:               #F5F5F5;
    --scrollbar-thumb-bg:         #CCCCCC;
    --scrollbar-active-thumb-bg:  #999999;

    --icon-color:          #333333;
    --icon-color-hover:    #000000;
    --icon-color-focused:  var(--gold-main);

    --nav-item-color:             #333333;
    --nav-item-color-hover:       #000000;
    --nav-item-color-active:      var(--gold-main);
    --nav-item-background-hover:  #F5F5F5;
    --nav-item-background-active: #EBEBEB;

    /* Graph View */
    --graph-line:            #DDDDDD;
    --graph-node:            #333333;
    --graph-node-focused:    var(--gold-main);
    --graph-node-tag:        var(--gold-shadow);
    --graph-node-attachment: #666666;

    /* Typography */
    --font-text-theme:      "Inter", "Georgia", serif;
    --font-heading-theme:   "Inter", "Georgia", serif;
    --font-monospace-theme: "JetBrains Mono", "Fira Code", monospace;
    --font-interface-theme: "Inter", system-ui, sans-serif;

    --font-text-size:      18px;
    --line-height:         1.7;
    --font-heading-weight: 600;
    --letter-spacing-headings: -0.02em;
}


/* ═══════════════════════════════════════════════════════════════════════════
 4 . COLOR PALETTE - DARK MODE (AMOLED BLACK)                                   *
 ═══════════════════════════════════════════════════════════════════════════ */

.theme-dark {
    /* Backgrounds - True Black */
    --background-primary:         #000000;
    --background-secondary:       #000000;
    --background-primary-alt:     #050505;
    --background-secondary-alt:   #111111;
    --background-modifier-border: #222222;
    --background-modifier-form-field: #0A0A0A;
    --background-modifier-form-field-highlighted: #151515;
    --background-modifier-box-shadow: rgba(0, 0, 0, 0.5);
    --background-modifier-success: #8A7129;
    --background-modifier-error: #5C0000;
    --background-modifier-error-rgb: 92, 0, 0;
    --background-modifier-error-hover: #7A0000;
    --background-modifier-cover: rgba(0, 0, 0, 0.8);

    /* Text */
    --text-normal:       #E0E0E0;
    --text-muted:        #888888;
    --text-faint:        #555555;
    --text-on-accent:    #000000;
    --text-error:        #FF6B6B;
    --text-error-hover:  #FF8A8A;
    --text-accent:       #FFFFFF;
    --text-accent-hover: #E0E0E0;

    /* Gold Palette (slightly brighter for dark backgrounds) */
    --gold-highlight: #F0E9B5;
    --gold-main:      #ffde6e;
    --gold-shadow:    #8A7129;
    --gold-tags:      #CEB04C;

    /* Interactive Elements */
    --interactive-accent:       var(--gold-main);
    --interactive-accent-rgb:   255, 222, 110;
    --interactive-accent-hover: var(--gold-highlight);

    /* Selection & Highlights */
    --text-selection:           rgba(255, 255, 255, 0.15);
    --text-highlight-bg:        rgba(255, 222, 110, 0.25);
    --text-highlight-bg-active: rgba(255, 222, 110, 0.4);

    /* UI Elements */
    --scrollbar-bg:              #0A0A0A;
    --scrollbar-thumb-bg:        #333333;
    --scrollbar-active-thumb-bg: #555555;

    --icon-color:          #888888;
    --icon-color-hover:    #FFFFFF;
    --icon-color-focused:  var(--gold-main);

    --nav-item-color:             #888888;
    --nav-item-color-hover:       #FFFFFF;
    --nav-item-color-active:      var(--gold-main);
    --nav-item-background-hover:  #111111;
    --nav-item-background-active: #1A1A1A;

    /* Graph View */
    --graph-line:            #333333;
    --graph-node:            #FFFFFF;
    --graph-node-focused:    var(--gold-main);
    --graph-node-tag:        var(--gold-main);
    --graph-node-attachment: #888888;

    /* Typography */
    --font-text-theme:      "Inter", "Georgia", serif;
    --font-heading-theme:   "Inter", "Georgia", serif;
    --font-monospace-theme: "JetBrains Mono", "Fira Code", monospace;
    --font-interface-theme: "Inter", system-ui, sans-serif;

    --font-text-size:      18px;
    --line-height:         1.7;
    --font-heading-weight: 600;
    --letter-spacing-headings: -0.02em;
}


/* ═══════════════════════════════════════════════════════════════════════════
 5 . PURE B&W MODE                                                              *

 Enabled via Style Settings plugin
 ═══════════════════════════════════════════════════════════════════════════ */

body.theme-light.shinkawa-pure-bw {
    --gold-main:      #000000;
    --gold-highlight: #777777;
    --gold-shadow:    #444444;
    --gold-tags:      #000000;
    --text-highlight-bg: rgba(0, 0, 0, 0.1);
    --text-highlight-bg-active: rgba(0, 0, 0, 0.2);
}

body.theme-dark.shinkawa-pure-bw {
    --gold-main:      #FFFFFF;
    --gold-highlight: #AAAAAA;
    --gold-shadow:    #666666;
    --gold-tags:      #FFFFFF;
    --text-highlight-bg: rgba(255, 255, 255, 0.1);
    --text-highlight-bg-active: rgba(255, 255, 255, 0.2);
}


/* ═══════════════════════════════════════════════════════════════════════════
 6 . TYPOGRAPHY                                                                 *
 ═══════════════════════════════════════════════════════════════════════════ */

body {
    font-family: var(--font-text-theme);
    font-size: var(--font-text-size);
    line-height: var(--line-height);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Headings */
.markdown-preview-view h1,
.markdown-preview-view h2,
.markdown-preview-view h3,
.markdown-preview-view h4,
.markdown-preview-view h5,
.markdown-preview-view h6,
.cm-header {
    font-family: var(--font-heading-theme);
    font-weight: var(--font-heading-weight);
    letter-spacing: var(--letter-spacing-headings);
    line-height: 1.3;
    color: var(--text-accent);
}

.markdown-preview-view h1,
.cm-header-1 {
    font-size: 2.2em;
    margin-top: 0;
}

.markdown-preview-view h2,
.cm-header-2 {
    font-size: 1.8em;
}

.markdown-preview-view h3,
.cm-header-3 {
    font-size: 1.5em;
}

.markdown-preview-view h4,
.cm-header-4 {
    font-size: 1.25em;
}

.markdown-preview-view h5,
.cm-header-5 {
    font-size: 1.1em;
}

.markdown-preview-view h6,
.cm-header-6 {
    font-size: 1em;
    font-weight: 700;
}


/* ═══════════════════════════════════════════════════════════════════════════
 7 . GOLD ELEMENTS                                                              *
 ═══════════════════════════════════════════════════════════════════════════ */

/* ─────────────────────────────────────
 7 .1 TAGS                                                                      *
 ───────────────────────────────────── */
.tag,
.cm-hashtag,
a.tag,
.cm-tag {
    color: #ffffff !important;
    background-color: var(--gold-tags) !important;
    font-family: var(--font-monospace-theme);
    font-size: 0.9em;
    padding: 0;
    border: none;
}

.tag:hover,
a.tag:hover,
.cm-hashtag:hover {
    color: var(--gold-highlight) !important;
    text-decoration: none;
}

.cm-s-obsidian span.cm-hashtag {
    color: #ffffff !important;
}

.metadata-property-value[data-property-type="tags"] .multi-select-pill {
    --pill-background: var(--gold-tags);
}


/* ─────────────────────────────────────
 7 .2 LINKS                                                                     *
 ───────────────────────────────────── */
.markdown-preview-view a.internal-link,
.cm-hmd-internal-link {
    color: var(--text-normal);
    text-decoration: underline;
    text-decoration-thickness: 1px;
    text-underline-offset: 3px;
    transition: color 0.15s ease, text-decoration-thickness 0.15s ease;
}

.markdown-preview-view a.internal-link:hover,
.cm-hmd-internal-link:hover {
    color: var(--gold-main);
    text-decoration-thickness: 2px;
}

.markdown-preview-view a.external-link,
.cm-url,
.cm-link {
    color: var(--text-normal);
    text-decoration: underline;
    text-decoration-thickness: 1px;
    text-underline-offset: 3px;
    transition: color 0.15s ease;
}

.markdown-preview-view a.external-link:hover {
    color: var(--gold-main);
    text-decoration-thickness: 2px;
}

.markdown-preview-view a.internal-link.is-unresolved {
    color: var(--text-muted);
    opacity: 0.7;
}

.markdown-preview-view a.internal-link.is-unresolved:hover {
    color: var(--gold-shadow);
}


/* ─────────────────────────────────────
 7 .3 ACTIVE FILE & TAB                                                         *
 ───────────────────────────────────── */
.nav-file-title.is-active,
.nav-file-title.is-active .nav-file-title-content {
    color: var(--gold-main) !important;
    background-color: var(--nav-item-background-active);
}

.workspace-tab-header.is-active {
    border-bottom-color: var(--gold-main) !important;
}

.workspace-tab-header.is-active .workspace-tab-header-inner-title {
    color: var(--gold-main) !important;
}

.workspace-tab-header.is-active::after {
    background-color: var(--gold-main) !important;
}


/* ─────────────────────────────────────
 7 .4 CHECKBOXES                                                                *
 ───────────────────────────────────── */
.task-list-item-checkbox,
input[type="checkbox"] {
    appearance: none;
    -webkit-appearance: none;
    width: 1.2em;
    height: 1.2em;
    border: 2px solid var(--text-muted);
    border-radius: 3px;
    background: transparent;
    cursor: pointer;
    transition: all 0.15s ease;
    position: relative;
}

.task-list-item-checkbox:hover,
input[type="checkbox"]:hover {
    border-color: var(--gold-main);
}

.task-list-item-checkbox:checked,
input[type="checkbox"]:checked {
    background-color: var(--gold-main);
    border-color: var(--gold-main);
}

.task-list-item-checkbox:checked::after,
input[type="checkbox"]:checked::after {
    content: '✓';
    color: var(--background-primary);
    font-size: 0.9em;
    font-weight: bold;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

.task-list-item[data-task="x"] .task-list-item-text,
.task-list-item.is-checked .task-list-item-text {
    color: var(--text-muted);
}


/* ─────────────────────────────────────
 7 .5 SEARCH HIGHLIGHTS                                                         *
 ───────────────────────────────────── */
.search-result-file-matched-text {
    background-color: var(--text-highlight-bg);
    color: inherit;
}

.cm-highlight,
.markdown-preview-view mark,
.search-highlight {
    background-color: var(--text-highlight-bg) !important;
    color: inherit;
    padding: 1px 2px;
    border-radius: 2px;
}

.cm-highlight-active,
.search-result-file-matched-text.is-active {
    background-color: var(--text-highlight-bg-active) !important;
}

.search-result-file-title {
    color: var(--text-accent);
}

.search-result-file-title:hover {
    color: var(--gold-main);
}


/* ─────────────────────────────────────
 7 .6 GRAPH VIEW                                                                *
 ───────────────────────────────────── */
.graph-view.color-fill-focused {
    color: var(--gold-main) !important;
}

.graph-view.color-circle {
    color: var(--graph-node);
}

.graph-view.color-line {
    color: var(--graph-line);
}

.graph-view.color-fill-tag {
    color: var(--gold-shadow);
}

.graph-view.color-fill-attachment {
    color: var(--graph-node-attachment);
}

.graph-view.color-fill-hover {
    color: var(--gold-highlight);
}


/* ─────────────────────────────────────
 7 .7 CURSOR / CARET                                                            *
 ───────────────────────────────────── */
.cm-cursor,
.cm-cursor-primary,
.cm-s-obsidian .cm-cursor {
    border-left-color: var(--gold-main) !important;
    border-left-width: 2px !important;
}

.cm-cursor-secondary {
    border-left-color: var(--gold-shadow) !important;
}


/* ─────────────────────────────────────
 7 .8 LIST BULLETS                                                              *
 ───────────────────────────────────── */
.markdown-preview-view ul > li::marker {
    color: var(--gold-main);
}

.markdown-preview-view ul ul > li::marker {
    color: var(--gold-shadow);
}

.markdown-preview-view ul ul ul > li::marker {
    color: var(--gold-highlight);
}

.markdown-preview-view ol > li::marker {
    color: var(--gold-main);
    font-family: var(--font-monospace-theme);
    font-size: 0.9em;
}

/* Fixed: was missing dots before class names */
.cm-formatting.cm-formatting-list.cm-formatting-list-ul.cm-list-1 {
    color: var(--gold-main);
}

.cm-formatting-list {
    color: var(--gold-main) !important;
}


/* ═══════════════════════════════════════════════════════════════════════════
 8 . IMAGES                                                                     *
 ═══════════════════════════════════════════════════════════════════════════ */

/* Base image styles */
.markdown-preview-view img,
.cm-s-obsidian img,
.view-content img,
.markdown-source-view img,
.image-embed img,
img:not(.emoji) {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 16px 0;
    transition: filter 0.3s ease;
}

/* Default & B&W mode */
body:not(.shinkawa-img-color):not(.shinkawa-img-sepia) .markdown-preview-view img,
body:not(.shinkawa-img-color):not(.shinkawa-img-sepia) .cm-s-obsidian img,
body:not(.shinkawa-img-color):not(.shinkawa-img-sepia) .view-content img,
body:not(.shinkawa-img-color):not(.shinkawa-img-sepia) .image-embed img,
body.shinkawa-img-bw .markdown-preview-view img,
body.shinkawa-img-bw .cm-s-obsidian img,
body.shinkawa-img-bw .view-content img,
body.shinkawa-img-bw .image-embed img {
    filter: grayscale(100%);
}

body:not(.shinkawa-img-color):not(.shinkawa-img-sepia) .markdown-preview-view img:hover,
body:not(.shinkawa-img-color):not(.shinkawa-img-sepia) .image-embed:hover img,
body.shinkawa-img-bw .markdown-preview-view img:hover,
body.shinkawa-img-bw .image-embed:hover img {
    filter: grayscale(0%);
}

/* Always color mode */
body.shinkawa-img-color img {
    filter: none !important;
}

/* Sepia mode */
body.shinkawa-img-sepia .markdown-preview-view img,
body.shinkawa-img-sepia .image-embed img {
    filter: sepia(30%);
}

body.shinkawa-img-sepia .markdown-preview-view img:hover,
body.shinkawa-img-sepia .image-embed:hover img {
    filter: sepia(0%);
}

/* Embedded images */
.internal-embed.image-embed img {
    transition: filter 0.3s ease;
}


/* ═══════════════════════════════════════════════════════════════════════════
 9 . TABLES                                                                     *
 ═══════════════════════════════════════════════════════════════════════════ */

.markdown-preview-view table {
    width: 100%;
    border-collapse: collapse;
    margin: 16px 0;
}

.markdown-preview-view th {
    font-weight: 600;
    color: var(--text-accent);
    border-bottom: 2px solid var(--text-normal);
    padding: 8px 16px;
    text-align: left;
}

.markdown-preview-view td {
    padding: 8px 16px;
    border-bottom: 1px solid var(--background-modifier-border);
}

.markdown-preview-view tr:hover {
    background-color: var(--background-secondary);
}


/* ═══════════════════════════════════════════════════════════════════════════
 1 0. SCROLLBARS                                                                *
 ═══════════════════════════════════════════════════════════════════════════ */

::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: var(--scrollbar-bg);
}

::-webkit-scrollbar-thumb {
    background: var(--scrollbar-thumb-bg);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--scrollbar-active-thumb-bg);
}


/* ═══════════════════════════════════════════════════════════════════════════
 1 1. UI ELEMENTS                                                               *
 ═══════════════════════════════════════════════════════════════════════════ */

/* File Explorer */
.nav-file-title,
.nav-folder-title {
    color: var(--nav-item-color);
    font-family: var(--font-interface-theme);
    font-size: 0.9em;
}

.nav-file-title:hover,
.nav-folder-title:hover {
    color: var(--nav-item-color-hover);
    background-color: var(--nav-item-background-hover);
}

.nav-folder-collapse-indicator {
    color: var(--text-muted);
}

/* Tab Headers */
.workspace-tab-header-inner-title {
    font-family: var(--font-interface-theme);
    font-size: 0.9em;
}

/* Modals */
.modal-container .modal {
    background-color: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
}

/* Buttons */
button.mod-cta {
    background-color: var(--gold-main);
    color: var(--text-on-accent);
}

button.mod-cta:hover {
    background-color: var(--gold-highlight);
}

/* Selection */
::selection {
    background-color: var(--text-selection);
}

.cm-selectionBackground,
.cm-selected {
    background-color: var(--text-selection) !important;
}

/* Window Chrome */
body.is-focused .sidebar-toggle-button,
body.is-focused .workspace-tabs.mod-top {
    --tab-container-background: var(--background-primary);
}

body.is-focused .titlebar,
body.is-focused .workspace-ribbon.mod-left {
    --titlebar-background: var(--background-primary);
}

.is-hidden-frameless:not(.is-fullscreen).is-focused .titlebar-button-container.mod-right {
    background-color: var(--background-primary);
}


/* ═══════════════════════════════════════════════════════════════════════════
 E ND OF THEME                                                                  *
 ═══════════════════════════════════════════════════════════════════════════ */
